<div class="mat-elevation-z8">
  <div class="spinner-container" *ngIf="dataSource.loading$ | async">
    <mat-spinner></mat-spinner>
  </div>
  <table mat-table [dataSource]="dataSource">
    <ng-container matColumnDef="url">
      <th mat-header-cell *matHeaderCellDef>ID</th>
      <td mat-cell *matCellDef="let character">
        <a href="{{ character.url }}">{{
          character.url | getId : "characters/"
        }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let character">{{ character.name }}</td>
    </ng-container>

    <ng-container matColumnDef="gender">
      <th mat-header-cell *matHeaderCellDef>Gender</th>
      <td mat-cell *matCellDef="let character">{{ character.gender }}</td>
    </ng-container>

    <ng-container matColumnDef="culture">
      <th mat-header-cell *matHeaderCellDef>Culture</th>
      <td mat-cell *matCellDef="let character">{{ character.culture }}</td>
    </ng-container>

    <ng-container matColumnDef="born">
      <th mat-header-cell *matHeaderCellDef>Born</th>
      <td mat-cell *matCellDef="let character">{{ character.born }}</td>
    </ng-container>

    <ng-container matColumnDef="died">
      <th mat-header-cell *matHeaderCellDef>Died</th>
      <td mat-cell *matCellDef="let character">{{ character.died }}</td>
    </ng-container>

    <ng-container matColumnDef="titles">
      <th mat-header-cell *matHeaderCellDef>Titles</th>
      <td mat-cell *matCellDef="let character">
        {{ character.titles }}
      </td>
    </ng-container>

    <ng-container matColumnDef="aliases">
      <th mat-header-cell *matHeaderCellDef>Aliases</th>
      <td mat-cell *matCellDef="let character">
        {{ character.aliases }}
      </td>
    </ng-container>

    <ng-container matColumnDef="father">
      <th mat-header-cell *matHeaderCellDef>Father</th>
      <td mat-cell *matCellDef="let character">
        <a href="{{ character.father }}">{{
          character.father | getId : "characters/"
        }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="mother">
      <th mat-header-cell *matHeaderCellDef>Mother</th>
      <td mat-cell *matCellDef="let character">
        <a href="{{ character.mother }}">{{
          character.mother | getId : "characters/"
        }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="spouse">
      <th mat-header-cell *matHeaderCellDef>Spouse</th>
      <td mat-cell *matCellDef="let character">
        <a href="{{ character.spouse }}">{{
          character.spouse | getId : "characters/"
        }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="allegiances">
      <th mat-header-cell *matHeaderCellDef>Allegiances</th>
      <td mat-cell *matCellDef="let character">
        <ng-container *ngFor="let allegiance of character.allegiances">
          <a href="{{ allegiance }}">{{ allegiance | getId : "houses/" }}</a>
        </ng-container>
      </td>
    </ng-container>

    <ng-container matColumnDef="playedBy">
      <th mat-header-cell *matHeaderCellDef>playedBy</th>
      <td mat-cell *matCellDef="let character">
        {{ character.playedBy }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator
    [pageIndex]="1"
    [length]="300"
    [pageSize]="10"
    [pageSizeOptions]="[5, 10, 15]"
  ></mat-paginator>
</div>
